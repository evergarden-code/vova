# 🎨 Руководство по ассетам - Визуальная новелла с Вовой

## 📋 Краткий список требуемых ассетов

### 1. **Локации (Backgrounds)** - 4 фона + 3 событийные картинки

**Обычные фоны (для диалогов):**
- `entrance.png` - Прихожая (игрок только пришёл)
- `kitchen.png` - Кухня (обычная сцена диалога)
- `room.png` - Комната Вовы (обычная сцена диалога)
- `balcony.png` - Балкон (обычная сцена диалога)

**Событийные картинки (единые - фон + Вова вместе):**
- `kitchen_cooking_vova.png` - Кухня + Вова готовит еду
- `room_gaming_vova.png` - Комната + Вова играет в New World
- `balcony_smoking_vova.png` - Балкон + Вова курит

⚠️ **ВАЖНО - КОГДА ИСПОЛЬЗОВАТЬ СОБЫТИЙНЫЕ КАРТИНКИ:**
- Используй событийные картинки **ПО СИТУАЦИИ**, **РЕДКО**, при **монологе** Вовы (когда он рассказывает о действии)
- **НЕ используй** событийные картинки постоянно - это исключение для особых моментов!
- Примеры использования:
  - Вова рассказывает про готовку → `action: "cooking"` (монолог про суп, картошку)
  - Вова увлекся темой New World → `action: "gaming"` (монолог про игру, фарм бананов)
  - Вова обсуждает что-то серьезное на балконе → `action: "smoking"` (монолог про жизнь, войну)
- **Правило:** Сначала обычная сцена (фон + спрайт), потом, если естественно, можно перейти к событийной картинке на время монолога

**Главное меню:**
- `menu_main.png` - **ОБЯЗАТЕЛЬНО** - одно фото для главного меню (фон + Вова вместе на одном фото)

### 2. **Спрайты Вовы (Characters)** - 7 файлов

**ОБЯЗАТЕЛЬНО 7 спрайтов для обычных локаций:**

1. `vova_standing.png` - Стоит (дефолт, нейтральный)
2. `vova_sitting_bed.png` - Сидит на кровати
3. `vova_thinking.png` - Задумался, почёсывает затылок
4. `vova_happy.png` - Радостный (высокий mood, обсуждает New World)
5. `vova_sad.png` - Грустный (низкий mood)
6. `vova_nervous.png` - Нервный (обсуждает войну, ТЦК)
7. `vova_annoyed.png` - Раздражённый (шутят про маму, адрес)

**Дополнительно:**
- `vova_browser.png` - Иконка для браузера (favicon, опционально)

### 3. **Музыка (Music)** - 5 файлов

**Главное меню:**
- `main_theme.mp3` - Основная тема (главное меню) - **ОБЯЗАТЕЛЬНО**

**Музыка для локаций:**
- `entrance_music.mp3` - Музыка для прихожей (entrance) - **ОБЯЗАТЕЛЬНО**
- `kitchen_music.mp3` - Музыка для кухни (kitchen) - **ОБЯЗАТЕЛЬНО**
- `room_music.mp3` - Музыка для комнаты (room) - **ОБЯЗАТЕЛЬНО**
- `balcony_music.mp3` - Музыка для балкона (balcony) - **ОБЯЗАТЕЛЬНО**

⚠️ **ВАЖНО:** Каждая локация автоматически переключает свою музыку при переходе!

---

## 🖼️ Расположение ассетов на экране

### Обычная сцена (диалог, обсуждение):

```
┌─────────────────────────────────────────────────────────┐
│                                                           │
│  [⚙️] [🔊] [↻] [✕]  ← Системные иконки (правый верх)   │
│                                                           │
│                    [ФОН ЛОКАЦИИ]                          │
│              (kitchen.png, room.png и т.д.)               │
│              (занимает весь экран)                        │
│                                                           │
│                    👤 ВОВА (СПРАЙТ)                       │
│              (vova_standing.png и другие)                │
│              (по центру экрана, отдельно от фона)        │
│                                                           │
│  [Auto] [Log] [Hide]  ← Кнопки управления                │
│                                                           │
│  ┌─────────────────────────────────────────────────────┐ │
│  │ ⭐ Вова                    [→] ← Индикатор          │ │
│  │ ─────────────────────────────────────────────────── │ │
│  │  "Ээ, короче, щас суп варю..."                    │ │
│  └─────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────┘
```

### Событийная сцена (готовка, игра, курение):

```
┌─────────────────────────────────────────────────────────┐
│                                                           │
│  [⚙️] [🔊] [↻] [✕]  ← Системные иконки (правый верх)   │
│                                                           │
│              [ЕДИНАЯ КАРТИНКА]                            │
│        (kitchen_cooking_vova.png)                         │
│        (фон + Вова вместе, один файл)                     │
│        (занимает весь экран)                              │
│                                                           │
│        [СПРАЙТ СКРЫТ - не используется]                   │
│                                                           │
│  [Auto] [Log] [Hide]  ← Кнопки управления                │
│                                                           │
│  ┌─────────────────────────────────────────────────────┐ │
│  │ ⭐ Вова                    [→] ← Индикатор          │ │
│  │ ─────────────────────────────────────────────────── │ │
│  │  "Вот, картошку режу..."                          │ │
│  └─────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────┘
```

---

## 📁 Структура папок (куда класть файлы)

```
/project2_vova
├── assets/
│   ├── backgrounds/          ← СЮДА кладите локации
│   │   ├── entrance.png      ← Прихожая
│   │   ├── kitchen.png       ← Кухня (обычная)
│   │   ├── room.png          ← Комната (обычная)
│   │   ├── balcony.png       ← Балкон (обычный)
│   │   ├── kitchen_cooking_vova.png  ← Событийная (готовка)
│   │   ├── room_gaming_vova.png      ← Событийная (игра)
│   │   ├── balcony_smoking_vova.png  ← Событийная (курение)
│   │   └── menu_main.png             ← ОБЯЗАТЕЛЬНО - главное меню (фон + Вова вместе)
│   │
│   ├── characters/           ← СЮДА кладите спрайты Вовы
│   │   ├── vova_standing.png   ← Стоит (дефолт)
│   │   ├── vova_sitting_bed.png ← Сидит на кровати
│   │   ├── vova_thinking.png   ← Задумался
│   │   ├── vova_happy.png      ← Радостный
│   │   ├── vova_sad.png        ← Грустный
│   │   ├── vova_nervous.png    ← Нервный
│   │   ├── vova_annoyed.png    ← Раздражённый
│   │   └── vova_browser.png    ← Иконка браузера (опционально)
│   │
│   └── music/                ← СЮДА кладите музыку
│       ├── main_theme.mp3         (главное меню)
│       ├── entrance_music.mp3     (прихожая)
│       ├── kitchen_music.mp3      (кухня)
│       ├── room_music.mp3         (комната)
│       └── balcony_music.mp3      (балкон)
```

---

## 🎯 Как ассеты используются на сайте

### 1. **ЛОКАЦИИ (Backgrounds)**

**Обычные локации:**
- **Расположение:** Занимает весь экран за спрайтом Вовы
- **Размер:** Растягивается на весь экран (1920x1080 или больше)
- **Когда меняется:** 
  - При смене локации в диалоге (entrance → kitchen → room → balcony)
  - В зависимости от диалога (AI решает)
  - При ручной смене в настройках

**Событийные картинки:**
- **Расположение:** Занимает весь экран, Вова уже в картинке
- **Размер:** Растягивается на весь экран (1920x1080 или больше)
- **Когда используется:**
  - `kitchen_cooking_vova.png` - когда Вова готовит (`action: "cooking"`)
  - `room_gaming_vova.png` - когда Вова играет в New World (`action: "gaming"`)
  - `balcony_smoking_vova.png` - когда Вова курит (`action: "smoking"`)
- **ВАЖНО:** При использовании событийной картинки отдельный спрайт Вовы **скрывается**

### 2. **СПРАЙТЫ ВОВЫ (Character Sprites)**

- **Расположение:** По центру экрана, поверх фона
- **Размер:** ~600x800px на экране (исходник 1200x1600px)
- **Когда меняется:**
  - При каждой реплике может меняться поза (`standing`, `sitting_bed`, `thinking`, `happy`, `sad`, `nervous`, `annoyed`)
  - Плавная анимация crossfade между позами
  - Скрывается, если используется событийная картинка (`action` не null)

**Маппинг поз и эмоций в коде:**

**character_pose (из session_info):**
- `standing` → `vova_standing.png` (дефолт, нейтральный)
- `sitting_bed` → `vova_sitting_bed.png` (сидит на кровати)
- `thinking` → `vova_thinking.png` (задумался, почёсывает затылок)

**emotion (из frames) - определяет спрайт при character_pose: "standing":**
- `HAPPY` / `EXCITED` → `vova_happy.png` (радостный, высокий mood, обсуждает New World)
- `SAD` / `THINKING` → `vova_sad.png` (грустный, низкий mood)
- `ANXIOUS` / `NERVOUS` → `vova_nervous.png` (нервный, обсуждает войну, ТЦК)
- `ANNOYED` / `ANGRY` → `vova_annoyed.png` (раздражённый, шутят про маму, адрес)
- `NEUTRAL` → `vova_standing.png` (нейтральный, дефолт)

⚠️ **ВАЖНО:** Если `character_pose` ≠ "standing", то эмоция из `frames.emotion` не меняет спрайт:
- `character_pose: "sitting_bed"` → всегда `vova_sitting_bed.png`
- `character_pose: "thinking"` → всегда `vova_thinking.png`

### 3. **ДИАЛОГОВОЕ ОКНО (Dialogue Box)**

- **Расположение:** Внизу экрана, по центру
- **Размер:** ~90% ширины экрана, максимум 1200px
- **Содержимое:**
  - Таб с именем "Вова" и иконкой звезды ⭐
  - Текст диалога (появляется посимвольно)
  - Индикатор продолжения "→" справа (мигает)

### 4. **КНОПКИ УПРАВЛЕНИЯ (Game Controls)**

- **Расположение:** Над диалоговым окном, справа
- **Функции:**
  - **Auto** - автоматическое проигрывание диалогов
  - **Log** - история всех диалогов
  - **Hide** - скрыть/показать интерфейс

### 5. **СИСТЕМНЫЕ ИКОНКИ (System Icons)**

- **Расположение:** Правый верхний угол
- **Функции:** ⚙️ настройки, 🔊 звук, ↻ обновить, ✕ выход

### 6. **МУЗЫКА (Music)**

- **Расположение:** Не видна визуально, играет фоном
- **Когда меняется:**
  - В зависимости от настроения истории
  - При ручной смене в настройках (main_music_1 или main_music_2)
  - Автоматически зацикливается

---

## ⚠️ ВАЖНО: Требования к файлам

### Локации (фоны):

**Обычные локации:**
- Формат: `.png`, `.jpg` или `.webp`
- Разрешение: минимум 1920x1080 (Full HD)
- Ориентация: горизонтальная (landscape)
- Стиль: реалистичный или полуреалистичный, визуальная новелла

**Событийные картинки:**
- Формат: `.png`, `.jpg` или `.webp`
- Разрешение: минимум 1920x1080 (Full HD)
- Ориентация: горизонтальная (landscape)
- **ВАЖНО:** Вова уже должен быть на картинке вместе с фоном!
- Пример: `kitchen_cooking_vova.png` = кухня + Вова готовит на одной картинке

### Спрайты Вовы:

- **Формат:** `.png` с **прозрачным фоном** (обязательно!)
- **Разрешение:** минимум 1200x1600px (вертикальный)
- **Позиция:** персонаж по центру, ноги внизу
- **Стиль:** реалистичный или полуреалистичный, визуальная новелла
- **ВАЖНО:** Все 7 спрайтов должны быть в **РАЗНЫХ позах/эмоциях**, но внешность Вовы должна быть узнаваемой

**Описание Вовы:**
- **Возраст:** 28 лет
- **Внешность:** Мужчина, среднего роста
- **Одежда:** Повседневная (футболка, штаны, домашняя одежда)
- **Характер:** Ленивый, жизнерадостный и одновременно грустный

### Музыка:

- Формат: `.mp3` или `.ogg`
- Битрейт: 128-192 kbps
- Длительность: 2-5 минут (будет зациклена)

---

## 🚀 Минимальный набор для тестирования

Если хотите быстро протестировать, достаточно:

1. **Один фон локации:** `assets/backgrounds/entrance.png` (прихожая)
2. **Один спрайт Вовы:** `assets/characters/vova_standing.png`
3. **Минимальная музыка:** 
   - `assets/music/main_theme.mp3` (для главного меню)
   - `assets/music/entrance_music.mp3` (для прихожей)

Остальные ассеты можно добавить позже. Игра будет работать, но без музыки в других локациях (будут ошибки в консоли, но игра продолжит работать).

---

## 📝 Примеры промптов для генерации

### Для локации `kitchen.png`:

```
interior kitchen visual novel background, small apartment kitchen, modern appliances, window, daylight, detailed, high quality, 16:9 ratio, warm lighting, realistic style
```

### Для событийной картинки `kitchen_cooking_vova.png`:

```
visual novel scene, young man (28 years old) cooking soup in small apartment kitchen, medium height, casual clothes (t-shirt, pants), standing at stove, realistic style, daytime, warm lighting, 16:9 ratio, detailed, high quality
```

### Для спрайта `vova_standing.png`:

```
character sprite, young man (28 years old), medium height, casual clothes (t-shirt, pants), standing pose, neutral expression, full body, transparent background, visual novel style, high quality, 1200x1600px, centered, character facing forward, realistic style
```

### Для спрайта `vova_happy.png`:

```
character sprite, young man (28 years old), medium height, casual clothes, standing pose, happy cheerful expression, smiling, full body, transparent background, visual novel style, high quality, 1200x1600px, centered, character facing forward, realistic style
```

### Для спрайта `vova_sitting_bed.png`:

```
character sprite, young man (28 years old), medium height, casual clothes, sitting on bed pose, neutral or slightly sad expression, full body, transparent background, visual novel style, high quality, 1200x1600px, centered, character facing forward, realistic style
```

### Для спрайта `vova_thinking.png`:

```
character sprite, young man (28 years old), medium height, casual clothes, standing pose, thinking expression, hand scratching back of head, contemplative, full body, transparent background, visual novel style, high quality, 1200x1600px, centered, character facing forward, realistic style
```

Подробные промпты для всех ассетов находятся в README файлах каждой папки.

---

## 🎨 Логика использования ассетов

### Пример 1: Обычная сцена (диалог на кухне)

**JSON от AI:**
```json
{
  "session_info": {
    "location": "kitchen",
    "character_pose": "standing",
    "action": null
  }
}
```

**Используемые файлы:**
- Фон: `assets/backgrounds/kitchen.png`
- Спрайт: `assets/characters/vova_standing.png`
- **Результат:** Фон кухни + спрайт Вовы по центру

### Пример 2: Событийная сцена (готовка)

**JSON от AI:**
```json
{
  "session_info": {
    "location": "kitchen",
    "character_pose": "standing",
    "action": "cooking"
  }
}
```

**Используемые файлы:**
- Единая картинка: `assets/backgrounds/kitchen_cooking_vova.png`
- Спрайт: **скрыт** (не используется)
- **Результат:** Единая картинка с кухней и Вовой готовящим еду

### Пример 3: Диалог в комнате (сидит на кровати)

**JSON от AI:**
```json
{
  "session_info": {
    "location": "room",
    "character_pose": "sitting_bed",
    "action": null
  }
}
```

**Используемые файлы:**
- Фон: `assets/backgrounds/room.png`
- Спрайт: `assets/characters/vova_sitting_bed.png`
- **Результат:** Фон комнаты + спрайт Вовы сидящего на кровати