<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Novel</title>
    <link rel="icon" type="image/png" href="/assets/characters/lena_browser.png">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- –§–æ–Ω -->
    <div id="background" class="background"></div>
    
    <!-- –ü–µ—Ä—Å–æ–Ω–∞–∂ -->
    <div id="character" class="character hidden">
        <img id="characterSprite" src="" alt="–í–æ–≤–∞">
        <div id="questionIcon" class="question-icon hidden">?</div>
    </div>
    
    <!-- –î–∏–∞–ª–æ–≥–æ–≤–æ–µ –æ–∫–Ω–æ -->
    <div id="dialogue-box" class="dialogue-box hidden">
        <div class="speaker-name">
            <span class="speaker-icon">‚≠ê</span>
            –í–æ–≤–∞
        </div>
        <div id="dialogue-text" class="dialogue-text"></div>
        <div class="continue-indicator">‚ñº</div>
    </div>
    
    <!-- –ö–Ω–æ–ø–∫–∏ –≤—ã–±–æ—Ä–∞ -->
    <div id="choices-container" class="choices-container hidden"></div>
    
    <!-- –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–≥—Ä–æ–π -->
    <div id="game-controls" class="game-controls hidden">
        <button id="auto-button" class="control-button" title="–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–Ω–∏–µ">Auto</button>
        <button id="log-button" class="control-button" title="–ò—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–æ–≤">Log</button>
        <button id="hide-button" class="control-button" title="–°–∫—Ä—ã—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å">Hide</button>
    </div>
    
    <!-- –°–∏—Å—Ç–µ–º–Ω—ã–µ –∏–∫–æ–Ω–∫–∏ -->
    <div id="system-icons" class="system-icons hidden">
        <button id="settings-icon" class="system-icon" title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">‚öôÔ∏è</button>
        <button id="reset-icon" class="system-icon" title="–û—á–∏—Å—Ç–∏—Ç—å —Å–µ—Å—Å–∏—é">üîÑ</button>
        <button id="exit-icon" class="system-icon" title="–í—ã—Ö–æ–¥">‚úï</button>
    </div>
    
    <!-- –°—Ç–∞—Ä—Ç–æ–≤—ã–π —ç–∫—Ä–∞–Ω / –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é -->
    <div id="start-screen" class="start-screen">
        <div class="menu-title">
            <h1 class="title-paper">Paper</h1>
            <h1 class="title-galgame">Galgame</h1>
            <p class="subtitle">„Ç™„Éà„É°„Éª„Éâ„É°„Ç§„É≥</p>
        </div>
        <div class="menu-character">
            <img id="menu-character-img" src="" alt="–í–æ–≤–∞">
        </div>
        <div class="menu-buttons">
            <button id="start-menu-button" class="menu-button menu-button-active">
                <span class="button-label">–°—Ç–∞—Ä—Ç</span>
                <span class="button-subtitle">–ù–ê–ß–ê–¢–¨ –ò–ì–†–£</span>
            </button>
            <button id="partner-menu-button" class="menu-button">
                <span class="button-label">–ö—Ç–æ –≤—ã?</span>
                <span class="button-subtitle">–í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ</span>
            </button>
            <button id="settings-menu-button" class="menu-button">
                <span class="button-label">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
                <span class="button-subtitle">–ö–û–ù–§–ò–ì</span>
            </button>
        </div>
        <div id="file-upload-section" class="file-upload-section hidden">
            <div class="file-upload-container">
                <p class="file-upload-title">–ö–∞–∫ –Ω–∞—á–∞—Ç—å —Ä–∞–∑–≥–æ–≤–æ—Ä —Å –í–æ–≤–æ–π?</p>
                
                <!-- –î–≤–µ –∫–Ω–æ–ø–∫–∏: –¢–µ–∫—Å—Ç –∏ –ü—Ä–æ—Å—Ç–æ –ø—Ä–∏–π—Ç–∏ –≤ –≥–æ—Å—Ç–∏ -->
                <div class="start-mode-buttons">
                    <button id="mode-text" class="mode-button">
                        <span class="mode-icon">‚úèÔ∏è</span>
                        <span class="mode-label">–¢–µ–∫—Å—Ç</span>
                        <span class="mode-subtitle">–û–±—Å—É–¥–∏—Ç—å —á—Ç–æ-—Ç–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ</span>
                    </button>
                    <button id="mode-visit" class="mode-button">
                        <span class="mode-icon">üö™</span>
                        <span class="mode-label">–ü—Ä–æ—Å—Ç–æ –ø—Ä–∏–π—Ç–∏ –≤ –≥–æ—Å—Ç–∏</span>
                        <span class="mode-subtitle">–ù–∞—á–∞—Ç—å –¥–∏–∞–ª–æ–≥ –±–µ–∑ —Ç–µ–º—ã</span>
                    </button>
                </div>
                
                <!-- –í—Å—Ç–∞–≤–∫–∞ —Ç–µ–∫—Å—Ç–∞ (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –≤—ã–±–æ—Ä–µ "–¢–µ–∫—Å—Ç") -->
                <div id="text-input-mode" class="input-mode hidden">
                    <textarea 
                        id="text-input" 
                        class="text-input" 
                        placeholder="–í—Å—Ç–∞–≤—å—Ç–µ –∏–ª–∏ –≤–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π —Ö–æ—Ç–∏—Ç–µ –æ–±—Å—É–¥–∏—Ç—å —Å –í–æ–≤–æ–π..."
                        rows="10"
                    ></textarea>
                    <div class="text-input-info">
                        <span id="text-char-count">0 —Å–∏–º–≤–æ–ª–æ–≤</span>
                    </div>
                    <div class="file-actions">
                        <button id="cancel-button" class="cancel-button">–û—Ç–º–µ–Ω–∏—Ç—å</button>
                        <button id="start-text-button" class="start-button">–ù–∞—á–∞—Ç—å —Ä–∞–∑–≥–æ–≤–æ—Ä</button>
                    </div>
                </div>
                
                <!-- –ö–Ω–æ–ø–∫–∞ "–ù–∞—á–∞—Ç—å –≤–∏–∑–∏—Ç" (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –≤—ã–±–æ—Ä–µ "–ü—Ä–æ—Å—Ç–æ –ø—Ä–∏–π—Ç–∏ –≤ –≥–æ—Å—Ç–∏") -->
                <div id="visit-actions" class="file-actions hidden">
                    <button id="cancel-visit-button" class="cancel-button">–û—Ç–º–µ–Ω–∏—Ç—å</button>
                    <button id="start-visit-button" class="start-button">–ü—Ä–∏–π—Ç–∏ –≤ –≥–æ—Å—Ç–∏</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- –ü–∞–Ω–µ–ª—å –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
    <div id="settings-panel" class="settings-panel hidden">
        <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
        
        <label>–°–∫–æ—Ä–æ—Å—Ç—å —Ç–µ–∫—Å—Ç–∞:</label>
        <input type="range" id="text-speed" min="10" max="100" value="50">
        <span id="speed-value">50</span>
        
        <label>–ì—Ä–æ–º–∫–æ—Å—Ç—å –º—É–∑—ã–∫–∏:</label>
        <input type="range" id="music-volume" min="0" max="100" value="70">
        <span id="volume-value">70</span>
        
        <label>–ú—É–∑—ã–∫–∞–ª—å–Ω–∞—è —Ç–µ–º–∞:</label>
        <select id="music-select">
            <option value="main_music_1">–ú—É–∑—ã–∫–∞ 1</option>
            <option value="main_music_2">–ú—É–∑—ã–∫–∞ 2</option>
        </select>
        
        <button onclick="toggleSettings()">–ó–∞–∫—Ä—ã—Ç—å</button>
    </div>
    
    <!-- –ü–∞–Ω–µ–ª—å –∏—Å—Ç–æ—Ä–∏–∏ –¥–∏–∞–ª–æ–≥–æ–≤ -->
    <div id="log-panel" class="log-panel hidden">
        <h3>–ò—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–æ–≤</h3>
        <div id="log-content" class="log-content"></div>
        <button id="close-log" class="close-log-button">–ó–∞–∫—Ä—ã—Ç—å</button>
    </div>
    
    <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ -->
    <div id="loading" class="loading hidden">
        <div class="loading-content">
            <div class="spinner"></div>
            <h3 class="loading-title">–í–æ–≤–∞ –¥—É–º–∞–µ—Ç...</h3>
            <p class="loading-subtitle" id="loading-status">–ö–æ—Ä–æ—á–µ, –¥–∞–π —Å–µ–∫—É–Ω–¥—É...</p>
            <div class="loading-progress">
                <div class="loading-progress-bar" id="loading-progress-bar"></div>
            </div>
        </div>
    </div>
    
    <audio id="background-music" loop></audio>
    
    <script type="module" src="/src/script.ts"></script>
</body>
</html>
